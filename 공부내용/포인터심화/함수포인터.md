# 함수 포인터 
**함수 포인터**: 함수를 가리키는 포인터  
&nbsp;&nbsp;&nbsp;**선언**: 리턴타입 (*변수명)(인수목록)  
> 함수 포인터와 구별하기 위해 일반 포인터를 데이터 포인터라 부르기도 한다.  
> 인수의 타입만 같으면 돼고 인수명은 똑같을 필요 없다.  
> 단독으로 사용된 함수명은 함수의 시작 번지를 나타내는 포인터 상수이다.  
> 원형만 일치한다면 함수 포인터가 여러개의 함수를 가리킬 수 있다.  
> 캐스트 연산을 하는 방법은 함수 포인터 선언식에서 변수명을 빼고 전체를 괄호로 한 번 싸주면 된다.  
> 증감 연산자 사용이 불가능하다.

<pre>#include < stdio.h >
int func(int a)
{
     return a*2;
}

void main()
{
     int i;
     int (*pf)(int a);
     pf=func;

     i=(*pf)(2);
     printf("%d\n",i);
}</pre>

<pre>
void main()
{
     int (*pf1)(char *);
     void (*pf2)(double);
     void (*pf3)(char *, double);

     /*1. int (*pf1)(char *)
       2. int (*)(char *) 변수명 제거 
       3. (int (*)(char *)) 괄호로 감싸기 */
     pf1 = (int (*)(char *))pf2;
     pf3 = (void (*)(char *, double))pf2;
}
</pre>

<pre>#include < stdio.h >

int multi2(int a)
{
     return a*2;
}

int multi3(int a)
{
     return a*3;
}

void main()
{
     char ch;
     int i=5;
     int (*pf)(int a);

     printf("5를 두 배 하고 싶으면 2, 세 배 하고 싶으면 3을 누르시오.\n");
     ch=_getch();

     if (ch=='2') 
     {
          pf=multi2;
     } 
     else
     {
          pf=multi3;
     }
     printf("결과는 %d입니다.\n",(*pf)(i));
}</pre><br><br><br>

## 함수 포인터 배열
**함수 포인터 배열**: 함수 포인터의 집합  
&nbsp;&nbsp;&nbsp;**선언**: 리턴타입 (*배열명[배열크기])(인수목록);  
> 배열 크기는 반드시 배열명 뒤에 써야한다.

<pre>
void main()
{
     int(*pf[5])(int);
}
</pre><br><br><br>

## 함수 이중 포인터
**함수 이중 포인터**: 함수 포인터를 가리키는 포인터  
&nbsp;&nbsp;&nbsp;**선언**: 리턴타입 (**배열명)(인수목록);  

<pre>
void main()
{
     int(**ppf)(int);
}
</pre><br><br><br>

## 함수 포인터 인수
**qsort**: base 번지에서부터 width폭을 가지는 num개의 값을 일정한 기준에 따라 정렬  
&nbsp;&nbsp;&nbsp;**형태**: void qsort(void *base, size_t num, size_t width, int ( *compare )(const void *, const void *));  

<pre>#include < stdio.h >
#include < windows.h >
     
int compare(const void *a, const void *b)
{
     if (*(int *)a == *(int *)b) return 0;
     if (*(int *)a > *(int *)b) return 1;
     return -1;
}

void main()
{
     int i;
     int ar[]={34,25,27,19,4,127,9,629,18,7,9,165};

     qsort(ar,sizeof(ar)/sizeof(ar[0]),sizeof(int),compare);
     
     for (i=0;i<sizeof(ar)/sizeof(ar[0]);i++) {
          printf("%d번째 = %d\n",i,ar[i]);
     }
}</pre><br><br><br>

## 함수 포인터 리턴
&nbsp;&nbsp;&nbsp;**형태**: 함수포인터의리턴타입 (*함수명(인수목록))(함수포인터의인수목록)  
<pre>#include < stdio.h >

int f1(int a, double b)
{
     return 1;
}

int f2(int a, double b)
{
     return 2;
}

int (*SelectFunc(char ch))(int,double)
{
     if (ch == 'a') 
     {
          return f1;
     } 
     else 
     {
          return f2;
     }
}

void main()
{
     int (*fp)(int,double);
     fp=SelectFunc('a');
     printf("리턴된 값 = %d\n",fp(1,2.3));
}</pre>
