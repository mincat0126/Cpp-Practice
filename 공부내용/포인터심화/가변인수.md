# 가변 인수 함수
**가변 인수**: 개수와 타입이 정해져있지 않은 인수   
**가변 인수 함수**: 가변 인수를 사용하는 함수  
**생략 기호(...)**: 컴파일러에게 이후의 인수에 대해서 개수와 타입을 점검하지 않도록 하는 기호  
&nbsp;&nbsp;&nbsp;**printf**: printf(const char *format, ...);  
> 생략 기호 전에 전달되는 인수를 고정 인수라 한다.

**<가변 인수 함수 조건>**
1. 반드시 1개 이상의 고정 인수가 존재해야 한다.
2. 함수 내부에서 자신에게 전달된 가변 인수의 개수를 알 수 있도록 해야 한다.
3. 함수 내부에서 각각의 가변 인수 타입을 알아야 한다.

<br><br><br>
## 가변 인수 함수 구조
<pre>//가변 인수 함수의 개략적인 구조
void VarFunc(int Fix, ...)
{
     va_list ap;
     va_start(ap,Fix);
     while (모든 인수를 다 읽을 때까지) {
          va_arg(ap,인수타입);
     }
     va_end(ap);
}
</pre>
**va_list**: 함수로 전달되어 스택에 저장되는 인수들을 읽기 위해 사용되는 포인터 변수  
**va_start(ap,마지막고정인수)**: 마지막 고정 인수를 전달 받아서 ap 포인터 변수가 첫번째 가변 인수를 가리키도록 초기화  
**va_arg(ap,인수타입)**: ap 위치에서 타입에 맞는 값을 읽어 리턴하며 ap를 다음 가변 인수로 옮겨주는 함수  
**va_end(ad)**: 가변 인수를 다 읽은 후 뒷정리는 하는 함수
> va_arg는 매크로 함수이기 때문에 인수의 타입을 인수로 받아들 수 있다.

<pre>#include < stdio.h >
#include < windows.h >

int GetSum(int num, ...)
{
     int sum=0;
     int i;
     va_list ap;
     int arg;
 
     va_start(ap,num);
     for (i=0;i<num;i++) {
          arg=va_arg(ap,int);
          sum+=arg;
     }
     va_end(ap);
     return sum;
}

void main()
{
     printf("1+2=%d\n",GetSum(2,1,2));
     printf("3+4+5+6=%d\n",GetSum(4,3,4,5,6));
     printf("10~15=%d\n",GetSum(6,10,11,12,13,14,15));
}</pre>
