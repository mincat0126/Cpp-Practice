# 임의 접근
**순차 접근**: 파일을 처음부터 뒤쪽으로 순서대로 엑세스 하는 것  
**임의 접근**: 파일의 임의 위치로 이동하면서 원하는 것을 읽는 방법  
> 스트림은 다음 입출력할 파일의 위치 FP(File Position)을 항상 기억하고 있다.  
> 최초 파일을 열 때 FP는 선두를 가리키며, 스트림에서 내용을 입출력할 때 FP는 액세스한만큼 자동으로 뒤로 이동한다.  
> 다음 엑세스할 위치를 옮기고 싶을 땐 FP를 원하는 위치로 옮긴 후 액세스 함수를 호출하면 된다.  

**fseek**: FP를 origin을 기준으로 offset으로 옮기는 것  
&nbsp;&nbsp;&nbsp;**형태**: int fseek(FILE *stream, long offset, int origin);  
> origin에는 SEEK_SET(스트림의 선두), SEEK_CUR(현재 위치), SEEK_END(스트림의 끝)이 올 수 있다.  
> offset은 origin이 SEEK_END일 경우 음수여야 하며, SEEK_CUR일 경우 음수 양수 모두 가능하다.

**ftell,rewind**: 현재 FP를 조사, 리셋하는 함수  
&nbsp;&nbsp;&nbsp;**형태**: long ftell(FILE *stream);  
&nbsp;&nbsp;&nbsp;**형태**: void rewind(FILE *stream);   
> rewind 함수는 사실 fseek(f,0,SEEK_SET)과 동일하다.

<pre#include < stdio.h >

void main()
{
    FILE* f;
    char buf[256];
    const char* str = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

    f = fopen("c:\\Test.txt", "w+t");

    if (f != NULL)
    {
        fputs(str, f);
        fseek(f, 24, SEEK_SET);
        fgets(buf, 256, f);
        printf("%s", buf);
        fclose(f);
    }
}pre>
